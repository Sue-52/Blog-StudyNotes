"use strict";(self.webpackChunkvuepress_theme_reco_demo=self.webpackChunkvuepress_theme_reco_demo||[]).push([[4606],{9663:(n,s,e)=>{e.r(s),e.d(s,{data:()=>a});const a={key:"v-635f7db0",path:"/docs/02.Front-endFrameKnowledge/02.React/06.React%20Router.html",title:"React Router -- React è·¯ç”±ç®¡ç†",lang:"en-US",frontmatter:{title:"React Router -- React è·¯ç”±ç®¡ç†",date:"2022-04-11T15:25:00.000Z",categories:["React"],tags:["React"]},excerpt:"",headers:[{level:2,title:"React Router -- React è·¯ç”±ç®¡ç†",slug:"react-router-react-è·¯ç”±ç®¡ç†",children:[{level:3,title:"1. å®¢æˆ·ç«¯è·¯ç”±æ¦‚è¿°",slug:"_1-å®¢æˆ·ç«¯è·¯ç”±æ¦‚è¿°",children:[]},{level:3,title:"2. åŸºæœ¬ä½¿ç”¨",slug:"_2-åŸºæœ¬ä½¿ç”¨",children:[]},{level:3,title:"3. NavLink ç»„ä»¶",slug:"_3-navlink-ç»„ä»¶",children:[]},{level:3,title:"4. 404 ä¸ Navigate",slug:"_4-404-ä¸-navigate",children:[]},{level:3,title:"5. åµŒå¥—è·¯ç”±",slug:"_5-åµŒå¥—è·¯ç”±",children:[]},{level:3,title:"6. ç´¢å¼•è·¯ç”±",slug:"_6-ç´¢å¼•è·¯ç”±",children:[]},{level:3,title:"7. ç¼–ç¨‹å¼å¯¼èˆª",slug:"_7-ç¼–ç¨‹å¼å¯¼èˆª",children:[]},{level:3,title:"8. è·¯ç”±å‚æ•°",slug:"_8-è·¯ç”±å‚æ•°",children:[]},{level:3,title:"9. æŸ¥è¯¢å‚æ•°",slug:"_9-æŸ¥è¯¢å‚æ•°",children:[]},{level:3,title:"10. è·¯ç”±ç»„ä»¶æ‡’åŠ è½½",slug:"_10-è·¯ç”±ç»„ä»¶æ‡’åŠ è½½",children:[]},{level:3,title:"11. è·¯ç”±å®ˆå« å•è·¯ç”±å®ˆå«",slug:"_11-è·¯ç”±å®ˆå«-å•è·¯ç”±å®ˆå«",children:[]},{level:3,title:"12. è·¯ç”±å®ˆå« å¤šè·¯ç”±å®ˆå«",slug:"_12-è·¯ç”±å®ˆå«-å¤šè·¯ç”±å®ˆå«",children:[]},{level:3,title:"13. æ»šåŠ¨è¡Œä¸ºä¿®æ­£",slug:"_13-æ»šåŠ¨è¡Œä¸ºä¿®æ­£",children:[]},{level:3,title:"14. useRoutes",slug:"_14-useroutes",children:[]},{level:3,title:"15. åµŒå¥—è·¯ç”±ä¸å¸ƒå±€ç»„ä»¶",slug:"_15-åµŒå¥—è·¯ç”±ä¸å¸ƒå±€ç»„ä»¶",children:[]}]}],git:{createdTime:164966203e4,updatedTime:164966203e4,contributors:[{name:"Sue-52",email:"1219243947@qq.com",commits:1}]},filePathRelative:"docs/02.Front-endFrameKnowledge/02.React/06.React Router.md"}},5591:(n,s,e)=>{e.r(s),e.d(s,{default:()=>l});const a=(0,e(6252).uE)('<h2 id="react-router-react-è·¯ç”±ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#react-router-react-è·¯ç”±ç®¡ç†" aria-hidden="true">#</a> React Router -- React è·¯ç”±ç®¡ç†</h2><h3 id="_1-å®¢æˆ·ç«¯è·¯ç”±æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#_1-å®¢æˆ·ç«¯è·¯ç”±æ¦‚è¿°" aria-hidden="true">#</a> 1. å®¢æˆ·ç«¯è·¯ç”±æ¦‚è¿°</h3><p>åœ¨ Web åº”ç”¨ä¸­ï¼Œå®¢æˆ·ç«¯è·¯ç”±å°±æ˜¯å¯¼èˆªï¼Œå°±æ˜¯ URL åœ°å€ä¸é¡µé¢ä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼Œå¯ä»¥å®ç°ç‚¹å‡»ä¸åŒçš„é“¾æ¥è·³è½¬åˆ°ä¸åŒçš„é¡µé¢ã€‚</p><p>ä¼ ç»Ÿ Web åº”ç”¨çš„ä¸­çš„è·¯ç”±æ˜¯ç”± a æ ‡è®°å®ç°çš„ï¼Œé€šè¿‡ a æ ‡è®°å¯ä»¥å®ç°åœ¨ä¸åŒçš„ HTML æ–‡ä»¶ä¹‹é—´è¿›è¡Œè·³è½¬ã€‚</p><p>åœ¨ React åº”ç”¨ä¸­ï¼Œåªæœ‰ä¸€ä¸ª HTML æ–‡ä»¶ï¼ŒReact åº”ç”¨é€šè¿‡ä¸åŒçš„ç»„ä»¶æ¨¡æ‹Ÿä¸åŒçš„é¡µé¢ï¼Œæ‰€ä»¥ React åº”ç”¨ä¸­çš„è·¯ç”±è¦å®ç°çš„æ˜¯åœ¨ä¸åŒçš„ç»„ä»¶ä¹‹é—´è¿›è¡Œè·³è½¬ã€‚</p><p><img src="https://raw.githubusercontent.com/Sue-52/PicGo/main/images/image-20220411152527293.png" alt="image-20220411152527293"></p><p>ç¤ºä¾‹å›¾ï¼š</p><p><img src="https://raw.githubusercontent.com/Sue-52/PicGo/main/images/42.gif" alt="42"></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> react-router-dom\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="_2-åŸºæœ¬ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_2-åŸºæœ¬ä½¿ç”¨" aria-hidden="true">#</a> 2. åŸºæœ¬ä½¿ç”¨</h3><p>éœ€æ±‚ï¼šä¸ºåº”ç”¨åˆ›å»ºé¦–é¡µå’Œæ–°é—»ä¸¤ä¸ªé¡µé¢ã€‚</p><ol><li><p>åˆ›å»ºé¡µé¢çº§è·¯ç”±ç»„ä»¶</p><p><code>src/pages/Home.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>function Home() {\n  return &lt;div&gt;æ¬¢è¿æ¥åˆ°é¦–é¡µ ğŸŒ¶ğŸŒ¶ğŸŒ¶ &lt;/div&gt;;\n}\nexport default Home;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>src/pages/News.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>function News() {\n  return &lt;div&gt;æ¬¢è¿æ¥åˆ°å…³äºæ–°é—»é¡µ ğŸ˜ğŸ˜ğŸ˜&lt;/div&gt;;\n}\nexport default News;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>src/pages/Error.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>function Error() {\n  return &lt;div&gt;é¡µé¢èµ°ä¸¢äº† ğŸ˜­ğŸ˜­ğŸ˜­&lt;/div&gt;;\n}\nexport default Error;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>é…ç½®è·¯ç”±è§„åˆ™</p><p><code>src/App.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import { BrowserRouter, Routes, Route } from &quot;react-router-dom&quot;;\nimport News from &quot;./pages/News&quot;;\nimport Home from &quot;./pages/Home&quot;;\n\nfunction App() {\n  // æ³¨æ„: åœ¨ v6 ç‰ˆæœ¬ä¸­ï¼Œä¸€æ—¦è·¯ç”±è§„åˆ™åŒ¹é…æˆåŠŸï¼Œåˆ™ä¸å†ç»§ç»­å‘ååŒ¹é…ï¼Œæ‰€ä»¥ä¸å†éœ€è¦ä½¿ç”¨ exact å±æ€§\n  return (\n    &lt;BrowserRouter&gt;\n      &lt;Routes&gt;\n        &lt;Route path=&quot;/&quot; element={&lt;Home /&gt;} /&gt;\n        &lt;Route path=&quot;/news&quot; element={&lt;News /&gt;} /&gt;\n      &lt;/Routes&gt;\n    &lt;/BrowserRouter&gt;\n  );\n}\n\nexport default App;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li><li><p>ä¸ºåº”ç”¨æ·»åŠ ç”¨äºè·³è½¬é¡µé¢çš„é“¾æ¥åœ°å€</p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import { Link } from &quot;react-router-dom&quot;;\n\nfunction App() {\n  // æ³¨æ„: react-router-dom æä¾›çš„ç»„ä»¶éƒ½å¿…é¡»è¢« BrowserRouter ç»„ä»¶åŒ…è£¹, åŒ…æ‹¬ Link ç»„ä»¶\n  return (\n    &lt;BrowserRouter&gt;\n      &lt;Link to=&quot;/&quot;&gt;Home&lt;/Link&gt;\n      &lt;Link to=&quot;/news&quot;&gt;News&lt;/Link&gt;\n    &lt;/BrowserRouter&gt;\n  );\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li></ol><h3 id="_3-navlink-ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#_3-navlink-ç»„ä»¶" aria-hidden="true">#</a> 3. NavLink ç»„ä»¶</h3><p>Link ç»„ä»¶æ˜¯ç”¨äºç”Ÿæˆæ™®é€šé“¾æ¥çš„ç»„ä»¶ï¼Œå¯¼èˆªé“¾æ¥åº”è¯¥ä½¿ç”¨ NavLink ç»„ä»¶ï¼Œå½“å‰é“¾æ¥è¢«æ¿€æ´»æ—¶ï¼Œé“¾æ¥å…ƒç´ èº«ä¸Šä¼šè‡ªåŠ¨æ·»åŠ  active æ¿€æ´»ç±»åã€‚</p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>&lt;NavLink to=&quot;/&quot;&gt;\n  Home\n&lt;/NavLink&gt;\n&lt;NavLink to=&quot;/news&quot;&gt;\n  News\n&lt;/NavLink&gt;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ›´æ”¹é»˜è®¤çš„æ¿€æ´»ç±»åã€‚</p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>const activeClassName = ({ isActive }) =&gt; (isActive ? &quot;on&quot; : &quot;off&quot;);\n\n&lt;NavLink to=&quot;/&quot; className={activeClassName}&gt;\n  Home\n&lt;/NavLink&gt;\n&lt;NavLink to=&quot;/about&quot; className={activeClassName}&gt;\n  News\n&lt;/NavLink&gt;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>é€šè¿‡åŒæ ·çš„æ–¹å¼ä¹Ÿå¯ä»¥ä¸ºå¯¼èˆªé“¾æ¥æ·»åŠ è¡Œå†…æ ·å¼ã€‚</p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>&lt;NavLink to=&quot;/&quot; style={({ isActive }) =&gt; ({ color: isActive ? &quot;red&quot; : &quot;blue&quot; })}&gt;\n  Home\n&lt;/NavLink&gt;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_4-404-ä¸-navigate" tabindex="-1"><a class="header-anchor" href="#_4-404-ä¸-navigate" aria-hidden="true">#</a> 4. 404 ä¸ Navigate</h3><p>åœ¨è·¯ç”±è§„åˆ™é…ç½®çš„æœ€åï¼Œå¯ä»¥ä½¿ç”¨ <code>*</code> å·åŒ¹é…ä¸å­˜åœ¨çš„è·¯ç”±è§„åˆ™ï¼ŒåŒ¹é…åˆ°ä»¥åå¯ä»¥æŒ‡å®šè¡¨ç¤º 404 çš„é¡µé¢ç»„ä»¶ã€‚</p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import Error from &quot;./pages/Error&quot;;\n\nfunction App() {\n  return (\n    &lt;BrowserRouter&gt;\n      &lt;Routes&gt;\n        &lt;Route path=&quot;*&quot; element={&lt;Error /&gt;} /&gt;\n      &lt;/Routes&gt;\n    &lt;/BrowserRouter&gt;\n  );\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>å¦‚æœä¸æƒ³å±•ç¤º 404ï¼Œä¹Ÿå¯ä»¥å°†è·¯ç”±é‡å®šå‘åˆ°åº”ç”¨ä¸­å·²ç»å­˜åœ¨çš„é¡µé¢è·¯ç”±ç»„ä»¶ã€‚</p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import { Navigate } from &quot;react-router-dom&quot;;\n\nfunction App() {\n  return (\n    &lt;BrowserRouter&gt;\n      &lt;Routes&gt;\n        &lt;Route path=&quot;*&quot; element={&lt;Navigate to=&quot;/&quot; /&gt;} /&gt;\n      &lt;/Routes&gt;\n    &lt;/BrowserRouter&gt;\n  );\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_5-åµŒå¥—è·¯ç”±" tabindex="-1"><a class="header-anchor" href="#_5-åµŒå¥—è·¯ç”±" aria-hidden="true">#</a> 5. åµŒå¥—è·¯ç”±</h3><p>åµŒå¥—è·¯ç”±å¯ä»¥ç†è§£ä¸ºäºŒçº§è·¯ç”±ä¹ƒè‡³ä¸‰çº§è·¯ç”±. å°±æ˜¯åœ¨è·¯ç”±ç»„ä»¶ä¸­è¿˜åŒ…å«è·¯ç”±åŒ¹é…ç»„ä»¶ã€‚</p><p><img src="https://raw.githubusercontent.com/Sue-52/PicGo/main/images/40.png" alt="40"></p><ol><li><p>é…ç½®æ–°é—»é¡µé¢ä¸­çš„äºŒçº§è·¯ç”±è§„åˆ™</p><p><code>src/App.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import News from &quot;./pages/News&quot;;\nimport InnerNews from &quot;./pages/InnerNews&quot;;\nimport OuterNews from &quot;./pages/OuterNews&quot;;\n\nfunction App() {\n  return (\n    &lt;BrowserRouter&gt;\n      &lt;Routes&gt;\n        &lt;Route path=&quot;/news&quot; element={&lt;News /&gt;}&gt;\n          &lt;Route path=&quot;inner&quot; element={&lt;InnerNews /&gt;} /&gt;\n          &lt;Route path=&quot;outer&quot; element={&lt;OuterNews /&gt;} /&gt;\n        &lt;/Route&gt;\n      &lt;/Routes&gt;\n    &lt;/BrowserRouter&gt;\n  );\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li><li><p>åœ¨ä¸€çº§è·¯ç”±é¡µé¢ç»„ä»¶ ( æ–°é—»é¡µé¢ç»„ä»¶ ) ä¸­æ”¾ç½®è·¯ç”±æ’æ§½ã€é…ç½®è·³è½¬é“¾æ¥</p><p><code>src/pages/News.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import { NavLink, Outlet } from &quot;react-router-dom&quot;;\n\nfunction News() {\n  return (\n    &lt;div&gt;\n      &lt;p&gt;æ¬¢è¿æ¥åˆ°å…³äºæ–°é—»é¡µ ğŸ˜ğŸ˜ğŸ˜&lt;/p&gt;\n      &lt;NavLink to=&quot;/news/inner&quot;&gt;å›½å†…æ–°é—»&lt;/NavLink&gt;\n      &lt;NavLink to=&quot;/news/outer&quot;&gt;å›½é™…æ–°é—»&lt;/NavLink&gt;\n      &lt;Outlet /&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li></ol><h3 id="_6-ç´¢å¼•è·¯ç”±" tabindex="-1"><a class="header-anchor" href="#_6-ç´¢å¼•è·¯ç”±" aria-hidden="true">#</a> 6. ç´¢å¼•è·¯ç”±</h3><p>é€šè¿‡ç´¢å¼•è·¯ç”±å¯ä»¥æŒ‡å®šé»˜è®¤æ˜¾ç¤ºçš„äºŒçº§è·¯ç”±ï¼Œæ¯”å¦‚ä¸Šè¿°æ¡ˆä¾‹ä¸­ï¼Œå½“è¿›å…¥æ–°é—»é¡µé¢æ—¶äºŒçº§è·¯ç”±ç»„ä»¶æ‰€åœ¨åŒºåŸŸæ˜¯ç©ºç™½çš„ï¼Œè¯¥ç¼ºé™·å°±å¯ä»¥é€šè¿‡ç´¢å¼•è·¯ç”±è¡¥æ•‘ã€‚</p><p><code>src/App.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>function App() {\n  // æ³¨æ„: ç´¢å¼•è·¯ç”±ä¸èƒ½æœ‰ path\n  return (\n    &lt;BrowserRouter&gt;\n      &lt;Routes&gt;\n        &lt;Route path=&quot;/news&quot; element={&lt;News /&gt;}&gt;\n          &lt;Route index element={&lt;InnerNews /&gt;} /&gt;\n          &lt;Route path=&quot;inner&quot; element={&lt;InnerNews /&gt;} /&gt;\n          &lt;Route path=&quot;outer&quot; element={&lt;OuterNews /&gt;} /&gt;\n        &lt;/Route&gt;\n      &lt;/Routes&gt;\n    &lt;/BrowserRouter&gt;\n  );\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_7-ç¼–ç¨‹å¼å¯¼èˆª" tabindex="-1"><a class="header-anchor" href="#_7-ç¼–ç¨‹å¼å¯¼èˆª" aria-hidden="true">#</a> 7. ç¼–ç¨‹å¼å¯¼èˆª</h3><p>é€šè¿‡äº‹ä»¶çš„æ–¹å¼è¿›è¡Œè·³è½¬ã€‚</p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import { useNavigate } from &quot;react-router-dom&quot;;\n\nfunction Home() {\n  const navigate = useNavigate();\n  return &lt;button onClick={() =&gt; navigate(&quot;/news&quot;)}&gt;News&lt;/button&gt;;\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_8-è·¯ç”±å‚æ•°" tabindex="-1"><a class="header-anchor" href="#_8-è·¯ç”±å‚æ•°" aria-hidden="true">#</a> 8. è·¯ç”±å‚æ•°</h3><p>é€šè¿‡è·¯ç”±å‚æ•°å¯ä»¥å®ç°åœ¨ä¸åŒçš„é¡µé¢ç»„ä»¶ä¹‹é—´è·³è½¬æ—¶æºå¸¦æ•°æ®ã€‚</p><p>æ¯”å¦‚åœ¨æ–‡ç« åˆ—è¡¨é¡µé¢ä¸­ï¼Œç‚¹å‡»æŸä¸€ç¯‡æ–‡ç« è·³è½¬åˆ°æ–‡ç« è¯¦æƒ…é¡µé¢ï¼Œæ­¤æ—¶å°±éœ€è¦å°†è¢«ç‚¹å‡»çš„é‚£ç¯‡æ–‡ç« çš„ id ä¼ é€’åˆ°æ–‡ç« è¯¦æƒ…é¡µé¢ã€‚</p><p>åœ¨åº”ç”¨ä¸­ä¼šæœ‰å¾ˆå¤šç¯‡æ–‡ç« ï¼Œä½†æ˜¯æ–‡ç« è¯¦æƒ…é¡µé¢ç»„ä»¶åªæœ‰ä¸€ä¸ªï¼Œå¯ä»¥å°†å®ƒç†è§£ä¸ºæ–‡ç« è¯¦æƒ…çš„æ¨¡æ¿é¡µé¢ï¼Œåœ¨è·³è½¬åˆ°è¿™ä¸ªæ¨¡æ¿é¡µé¢æ—¶ï¼Œéœ€è¦å°†æ–‡ç« idä¼ è¿›æ¥ï¼Œåœ¨æ¨¡æ¿é¡µé¢ä¸­éœ€è¦é€šè¿‡ id è·å–è¯¦æƒ…ï¼Œä»è€Œå±•ç¤ºè¯¦æƒ…æ•°æ®ã€‚</p><ol><li><p>æ·»åŠ è·¯ç”±è§„åˆ™å¹¶æŒ‡å®šè·³è½¬åˆ°è¯¥è·¯ç”±æ—¶éœ€è¦ä¼ é€’å‚æ•°</p><p><code>src/App.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import Detail from &quot;./pages/Detail&quot;;\n\nfunction App() {\n  return (\n    &lt;BrowserRouter&gt;\n      &lt;Routes&gt;\n        &lt;Route path=&quot;/detail/:id&quot; element={&lt;Detail /&gt;} /&gt;\n      &lt;/Routes&gt;\n    &lt;/BrowserRouter&gt;\n  );\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li><li><p>åœ¨å®ç°è·³è½¬çš„è·¯ç”±é“¾æ¥ä¸­ä¼ é€’å‚æ•°</p><p><code>src/pages/Home.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import { Link } from &quot;react-router-dom&quot;;\n\nfunction Home() {\n  return (\n    &lt;ul&gt;\n      &lt;li&gt;\n        &lt;Link to=&quot;/detail/1&quot;&gt;è€æ—§å°åŒºæ”¹é€ , è¿™ä¸‰åŒºåå•æ¥äº†!&lt;/Link&gt;\n      &lt;/li&gt;\n      &lt;li&gt;\n        &lt;Link to=&quot;/detail/2&quot;&gt;ç©¿é‹æŠŠè„šæ”¾åˆ—è½¦åº§ä½ä¸Š, éŸ©æ€»ç»Ÿå€™é€‰äººå°¹é”¡æ‚¦å¼•å‘ç½‘å‹æ‰¹..&lt;/Link&gt;\n      &lt;/li&gt;\n    &lt;/ul&gt;\n  );\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li><li><p>åœ¨ç›®æ ‡è·³è½¬é¡µé¢ç»„ä»¶æ¥æ”¶è·¯ç”±å‚æ•°</p><p><code>src/pages/Detail.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import { useParams } from &quot;react-router-dom&quot;;\n\nfunction Detail() {\n  const { id } = useParams();\n  return &lt;div&gt;Detail Page {id}&lt;/div&gt;;\n}\n\nexport default Detail;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ol><h3 id="_9-æŸ¥è¯¢å‚æ•°" tabindex="-1"><a class="header-anchor" href="#_9-æŸ¥è¯¢å‚æ•°" aria-hidden="true">#</a> 9. æŸ¥è¯¢å‚æ•°</h3><ol><li><p>å®šä¹‰è·¯ç”±æ—¶ä¸éœ€è¦åŠ è·¯ç”±å‚æ•°å ä½ç¬¦</p><p><code>src/App.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>function App() {\n  return (\n    &lt;BrowserRouter&gt;\n      &lt;Routes&gt;\n        &lt;Route path=&quot;/detail&quot; element={&lt;Detail /&gt;} /&gt;\n      &lt;/Routes&gt;\n    &lt;/BrowserRouter&gt;\n  );\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li><li><p>åœ¨é“¾æ¥è·³è½¬æ—¶æ·»åŠ å‚æ•°</p><p><code>src/pages/Home.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import { Link } from &quot;react-router-dom&quot;;\n\nfunction Home() {\n  return (\n    &lt;ul&gt;\n      &lt;li&gt;\n        &lt;Link to=&quot;/detail?id=1&quot;&gt;è€æ—§å°åŒºæ”¹é€ , è¿™ä¸‰åŒºåå•æ¥äº†!&lt;/Link&gt;\n      &lt;/li&gt;\n      &lt;li&gt;\n        &lt;Link to=&quot;/detail?id=2&quot;&gt;ç©¿é‹æŠŠè„šæ”¾åˆ—è½¦åº§ä½ä¸Š, éŸ©æ€»ç»Ÿå€™é€‰äººå°¹é”¡æ‚¦å¼•å‘ç½‘å‹æ‰¹..&lt;/Link&gt;\n      &lt;/li&gt;\n    &lt;/ul&gt;\n  );\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li><li><p>åœ¨ç›®æ ‡è·³è½¬é¡µé¢ç»„ä»¶æ¥æ”¶è·¯ç”±å‚æ•°</p><p><code>src/pages/Detail.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import { useSearchParams } from &quot;react-router-dom&quot;;\n\nfunction Detail() {\n  const [searchParams] = useSearchParams();\n  return &lt;div&gt;Detail Page {searchParams.get(&quot;id&quot;)}&lt;/div&gt;;\n}\n\nexport default Detail;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ol><h3 id="_10-è·¯ç”±ç»„ä»¶æ‡’åŠ è½½" tabindex="-1"><a class="header-anchor" href="#_10-è·¯ç”±ç»„ä»¶æ‡’åŠ è½½" aria-hidden="true">#</a> 10. è·¯ç”±ç»„ä»¶æ‡’åŠ è½½</h3><p>é»˜è®¤æƒ…å†µä¸‹åº”ç”¨ä¸­æ‰€æœ‰çš„ç»„ä»¶éƒ½è¢«æ‰“åŒ…åˆ°äº†åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå°±æ˜¯è¯´åº”ç”¨åˆå§‹åŠ è½½æ—¶å°±åŠ è½½äº†æ‰€æœ‰çš„ç»„ä»¶ï¼Œè¿™æ ·ä¼šå¯¼è‡´åˆå§‹åŠ è½½åº”ç”¨æ—¶é—´é•¿ç”¨æˆ·ä½“éªŒå·®ã€‚</p><p>è§£å†³åŠæ³•å°±æ˜¯åœ¨æ‰“åŒ…åº”ç”¨æ—¶ä»¥é¡µé¢ç»„ä»¶ä¸ºå•ä½ï¼Œå°†ä¸åŒçš„é¡µé¢ç»„ä»¶æ‰“åŒ…åˆ°ä¸åŒçš„æ–‡ä»¶ä¸­ï¼Œåˆå§‹åŠ è½½æ—¶åªåŠ è½½ç”¨æˆ·è®¿é—®çš„é¡µé¢ç»„ä»¶ã€‚</p><ol><li><p>é€šè¿‡ lazy, import å¼‚æ­¥åŠ è½½ç»„ä»¶</p><p><code>src/App.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import { lazy } from &#39;react&#39;;\n\nconst Home = lazy(() =&gt; import(/* webpackChunkName: &quot;Home&quot; */ &quot;./pages/Home&quot;));\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>é€šè¿‡ import æ–¹æ³•åŠ¨æ€å¯¼å…¥æ¨¡å—æ—¶ï¼Œwebpack ä¼šå°†å¯¼å…¥çš„æ¨¡å—æ‹†åˆ†æˆå•ç‹¬çš„æ–‡ä»¶ã€‚</p><p>webpackChunkName å®šä¹‰æ‹†åˆ†æ–‡ä»¶åç§°ã€‚</p></li><li><p>åœ¨è°ƒç”¨å¼‚æ­¥åŠ è½½çš„ç»„ä»¶æ—¶ï¼Œç»„ä»¶çš„å¤–é¢å¿…é¡»åŒ…è£¹ Suspense ç»„ä»¶ï¼Œé€šè¿‡ Suspense ç»„ä»¶å¯ä»¥æŒ‡å®šç»„ä»¶åŠ è½½è¿‡ç¨‹ä¸­çš„ç­‰å¾… UIã€‚</p><p><code>src/App.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import { Suspense } from &quot;react&quot;;\n\nfunction App() {\n  return (\n    &lt;BrowserRouter&gt;\n      &lt;Routes&gt;\n        &lt;Route\n          path=&quot;/&quot;\n          element={\n            &lt;Suspense fallback={&lt;div&gt;loading...&lt;/div&gt;}&gt;\n              &lt;Home /&gt;\n            &lt;/Suspense&gt;\n          }\n        /&gt;\n      &lt;/Routes&gt;\n    &lt;/BrowserRouter&gt;\n  );\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></li><li><p>å°è£… Loadable ç»„ä»¶ä»¥å¤ç”¨ Suspense ç»„ä»¶</p><p><code>src/common/Loadable.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import { Suspense } from &quot;react&quot;;\n\nfunction Loadable(Component) {\n  return function (props) {\n    return (\n      &lt;Suspense fallback={&lt;div&gt;loading...&lt;/div&gt;}&gt;\n        &lt;Component {...props} /&gt;\n      &lt;/Suspense&gt;\n    );\n  };\n}\n\nexport default Loadable;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><code>src/App.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import Loadable from &quot;./pages/Loadable&quot;;\n\nconst Home = Loadable(\n  lazy(() =&gt; import(/* webpackChunkName: &quot;Home&quot; */ &quot;./pages/Home&quot;))\n);\n\nfunction App() {\n  return (\n    &lt;BrowserRouter&gt;\n      &lt;Routes&gt;\n        &lt;Route path=&quot;/&quot; element={&lt;Home /&gt;}/&gt;\n      &lt;/Routes&gt;\n    &lt;/BrowserRouter&gt;\n  );\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li></ol><h3 id="_11-è·¯ç”±å®ˆå«-å•è·¯ç”±å®ˆå«" tabindex="-1"><a class="header-anchor" href="#_11-è·¯ç”±å®ˆå«-å•è·¯ç”±å®ˆå«" aria-hidden="true">#</a> 11. è·¯ç”±å®ˆå« å•è·¯ç”±å®ˆå«</h3><p>å½“ç”¨æˆ·å»è®¿é—®é‚£äº›éœ€è¦é‰´æƒä»¥åæ‰èƒ½è¿›å…¥çš„è·¯ç”±ç»„ä»¶æ—¶ï¼Œéœ€è¦å…ˆé€šè¿‡è·¯ç”±å®ˆå«å¯¹å…¶è¿›è¡Œé‰´æƒï¼Œåªæœ‰é€šè¿‡æ‰å…è®¸ç”¨æˆ·è¿›å…¥ï¼Œå¦åˆ™è¿›è¡Œé‡å®šå‘ã€‚</p><ol><li><p>å®šä¹‰æ‰§è¡Œé‰´æƒçš„é’©å­å‡½æ•°ä¾›è·¯ç”±å®ˆå«è¿›è¡Œä½¿ç”¨</p><p><code>src/common/useAuth.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import { useEffect, useState } from &quot;react&quot;;\n\nfunction isAuth() {\n  // æ¨¡æ‹Ÿé‰´æƒæˆåŠŸ\n  return Promise.resolve();\n  // æ¨¡æ‹Ÿé‰´æƒå¤±è´¥\n  // return Promise.reject();\n}\n\nfunction useAuth() {\n  // ç”¨äºå­˜å‚¨é‰´æƒç»“æœ\n  // true æˆåŠŸ\n  // false å¤±è´¥ (é»˜è®¤å€¼)\n  const [auth, setAuth] = useState(false);\n  // ç”¨äºå­˜å‚¨å¼‚æ­¥çŠ¶æ€\n  // true ç­‰å¾… (é»˜è®¤å€¼)\n  // false ç»“æŸ\n  const [loading, setLoading] = useState(true);\n  useEffect(() =&gt; {\n    // å¼€å§‹é‰´æƒ\n    isAuth()\n      // æˆåŠŸ\n      .then(() =&gt; setAuth(true))\n      // å¤±è´¥\n      .catch(() =&gt; setAuth(false))\n      // ä¸ç®¡æˆåŠŸè¿˜æ˜¯å¤±è´¥, éƒ½å°†å¼‚æ­¥çŠ¶æ€æ›´æ–°ä¸ºç»“æŸ\n      .finally(() =&gt; setLoading(false));\n  }, []);\n  // è¿”å›å¼‚æ­¥çŠ¶æ€å’Œé‰´æƒç»“æœ\n  return { loading, auth };\n}\n\nexport default useAuth;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div></li><li><p>åˆ›å»ºç”¨äºå®ç°èº«ä»½éªŒè¯çš„è·¯ç”±å®ˆå«ç»„ä»¶</p><p><code>src/common/AuthGuard.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import { Navigate } from &quot;react-router-dom&quot;;\nimport useAuth from &quot;../hooks/useAuth&quot;;\n\nfunction AuthGuard({ children }) {\n  // è°ƒç”¨é‰´æƒé’©å­, è·å–å¼‚æ­¥çŠ¶æ€åŠé‰´æƒç»“æœ\n  const { auth, loading } = useAuth();\n  // å¦‚æœå¼‚æ­¥çŠ¶æ€ä¸ºç­‰å¾…, æ¸²æŸ“ç­‰å¾…è¿‡ç¨‹ä¸­çš„UIç•Œé¢\n  if (loading) return &lt;div&gt;loading...&lt;/div&gt;;\n  // åˆ¤æ–­é‰´æƒç»“æœ, å¦‚æœé€šè¿‡, è¿›å…¥ç›®æ ‡è·¯ç”±ç»„ä»¶, å¦‚æœæ²¡é€šè¿‡, é‡å®šå‘åˆ°æ‰§è¡Œæˆæƒçš„é¡µé¢\n  return auth ? children : &lt;Navigate to=&quot;/login&quot; /&gt;;\n}\n\nexport default AuthGuard;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li><li><p>å¯¹ Admin ç»„ä»¶ï¼Œå³éœ€è¦é‰´æƒä»¥åæ‰èƒ½è®¿é—®çš„é¡µé¢è·¯ç”±ç»„ä»¶è¿›è¡Œå®ˆå«</p><p><code>src/App.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import AuthGuard from &quot;./common/AuthGuard&quot;;\n\nfunction App() {\n  return (\n    &lt;BrowserRouter&gt;\n      &lt;Routes&gt;\n        &lt;Route path=&quot;/admin&quot; element={&lt;AuthGuard&gt;&lt;Admin /&gt;&lt;/AuthGuard&gt;}/&gt;\n      &lt;/Routes&gt;\n    &lt;/BrowserRouter&gt;\n  );\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li></ol><h3 id="_12-è·¯ç”±å®ˆå«-å¤šè·¯ç”±å®ˆå«" tabindex="-1"><a class="header-anchor" href="#_12-è·¯ç”±å®ˆå«-å¤šè·¯ç”±å®ˆå«" aria-hidden="true">#</a> 12. è·¯ç”±å®ˆå« å¤šè·¯ç”±å®ˆå«</h3><p>é€šè¿‡ Outlet è·¯ç”±æ’åº§ç»„ä»¶å¯ä»¥å®ç°å¤šè·¯ç”±å®ˆå«ã€‚</p><p><code>src/App.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import Admin from &quot;./pages/Admin&quot;;\nimport AuthGuardOutlet from &quot;./common/AuthGuardOutlet&quot;;\n\nfunction App() {\n  return (\n    &lt;BrowserRouter&gt;\n        &lt;Route path=&quot;/admin&quot; element={&lt;AuthGuardOutlet /&gt;}&gt;\n          &lt;Route path=&quot;&quot; element={&lt;Admin /&gt;} /&gt;\n        &lt;/Route&gt;\n      &lt;/Routes&gt;\n    &lt;/BrowserRouter&gt;\n  );\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><code>src/common/AuthGuardOutlet.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import { Navigate, Outlet } from &quot;react-router-dom&quot;;\nimport useAuth from &quot;../hooks/useAuth&quot;;\n\nfunction AuthGuardOutlet() {\n  // è°ƒç”¨é‰´æƒé’©å­, è·å–å¼‚æ­¥çŠ¶æ€åŠé‰´æƒç»“æœ\n  const { auth, loading } = useAuth();\n  // å¦‚æœå¼‚æ­¥çŠ¶æ€ä¸ºç­‰å¾…, æ¸²æŸ“ç­‰å¾…è¿‡ç¨‹ä¸­çš„UIç•Œé¢\n  if (loading) return &lt;div&gt;loading...&lt;/div&gt;;\n  // åˆ¤æ–­é‰´æƒç»“æœ, å¦‚æœé€šè¿‡, æ¸²æŸ“è·¯ç”±æ’åº§ç»„ä»¶, è®© children ç»„ä»¶èƒ½å¤Ÿæ¸²æŸ“åˆ°æ’åº§ç»„ä»¶ä¸­\n  // å¦‚æœæ²¡é€šè¿‡, é‡å®šå‘åˆ°æ‰§è¡Œæˆæƒçš„é¡µé¢\n  return auth ? &lt;Outlet /&gt; : &lt;Navigate to=&quot;/login&quot; /&gt;;\n}\n\nexport default AuthGuardOutlet;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_13-æ»šåŠ¨è¡Œä¸ºä¿®æ­£" tabindex="-1"><a class="header-anchor" href="#_13-æ»šåŠ¨è¡Œä¸ºä¿®æ­£" aria-hidden="true">#</a> 13. æ»šåŠ¨è¡Œä¸ºä¿®æ­£</h3><p>é—®é¢˜ï¼šåœ¨ A é¡µé¢ä¸­å°†é¡µé¢æ»šåŠ¨åˆ°åº•éƒ¨ï¼Œåˆ‡æ¢åˆ° B é¡µé¢ï¼Œæ­¤æ—¶æ»šåŠ¨æ¡ä»å¤„äº A é¡µé¢çš„ä½ç½®ã€‚</p><p>è§£å†³é—®é¢˜çš„æ–¹å¼å°±æ˜¯ç›‘å¬è·¯ç”±åˆ‡æ¢è¡Œä¸ºï¼Œå½“è·¯ç”±å‘ç”Ÿåˆ‡æ¢è¡Œä¸ºæ—¶ï¼Œè®©é¡µé¢è‡ªåŠ¨å›åˆ°é¡¶éƒ¨ã€‚</p><p><code>src/common/ScrollTop.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import { useEffect } from &quot;react&quot;;\nimport { useLocation } from &quot;react-router-dom&quot;;\n\nfunction ScrollTop() {\n  const { pathname } = useLocation();\n  useEffect(() =&gt; {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n  return null;\n}\n\nexport default ScrollTop;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><code>src/App.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import ScrollTop from &quot;./common/ScrollTop&quot;;\n\nfunction App() {\n  return (\n    &lt;BrowserRouter&gt;\n      &lt;ScrollTop /&gt;\n    &lt;/BrowserRouter&gt;\n  );\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_14-useroutes" tabindex="-1"><a class="header-anchor" href="#_14-useroutes" aria-hidden="true">#</a> 14. useRoutes</h3><p>é€šè¿‡ useRoutes é’©å­å‡½æ•°å¯ä»¥å®ç°é€šè¿‡ JavaScript é…ç½®å¯¹è±¡çš„æ–¹å¼å®šä¹‰è·¯ç”±è§„åˆ™ã€‚</p><p><code>src/AppRoute.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import { useRoutes } from &quot;react-router-dom&quot;;\nimport Home from &quot;./pages/Home&quot;;\nimport InnerNews from &quot;./pages/InnerNews&quot;;\nimport News from &quot;./pages/News&quot;;\nimport OuterNews from &quot;./pages/OuterNews&quot;;\n\nconst routes = [\n  { path: &quot;/&quot;, element: &lt;Home /&gt; },\n  {\n    path: &quot;/news&quot;,\n    element: &lt;News /&gt;,\n    children: [\n      { path: &quot;inner&quot;, element: &lt;InnerNews /&gt; },\n      { path: &quot;outer&quot;, element: &lt;OuterNews /&gt; },\n    ],\n  },\n]\n\nfunction AppRoute() {\n  let element = useRoutes(routes);\n  return element;\n}\n\nexport default AppRoute;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p><code>src/App.js</code></p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import { BrowserRouter } from &quot;react-router-dom&quot;;\nimport AppRoute from &quot;./AppRoute&quot;;\n\nfunction App() {\n  return (\n    &lt;BrowserRouter&gt;\n      &lt;AppRoute /&gt;\n    &lt;/BrowserRouter&gt;\n  );\n}\n\nexport default App;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_15-åµŒå¥—è·¯ç”±ä¸å¸ƒå±€ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#_15-åµŒå¥—è·¯ç”±ä¸å¸ƒå±€ç»„ä»¶" aria-hidden="true">#</a> 15. åµŒå¥—è·¯ç”±ä¸å¸ƒå±€ç»„ä»¶</h3><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>// src/App.js\nimport { BrowserRouter, Route, Routes } from &quot;react-router-dom&quot;;\nimport AdminHome from &quot;./admin/AdminHome&quot;;\nimport AdminLayout from &quot;./admin/AdminLayout&quot;;\nimport Layout from &quot;./components/Layout&quot;;\nimport About from &quot;./pages/About&quot;;\nimport Home from &quot;./pages/Home&quot;;\n\nexport default  function App() {\n  return (\n    &lt;BrowserRouter&gt;\n      &lt;Routes&gt;\n        &lt;Route path=&quot;/&quot; element={&lt;Layout /&gt;}&gt;\n          &lt;Route path=&quot;&quot; element={&lt;Home /&gt;} /&gt;\n          &lt;Route path=&quot;/about&quot; element={&lt;About /&gt;} /&gt;\n        &lt;/Route&gt;\n        &lt;Route path=&quot;/admin&quot; element={&lt;AdminLayout /&gt;}&gt;\n          &lt;Route path=&quot;&quot; element={&lt;AdminHome /&gt;} /&gt;\n        &lt;/Route&gt;\n      &lt;/Routes&gt;\n    &lt;/BrowserRouter&gt;\n  );\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import Header from &quot;./Header&quot;;\nimport Footer from &quot;./Footer&quot;;\nimport { Outlet } from &quot;react-router-dom&quot;;\n\nexport default function Layout() {\n  return (\n    &lt;&gt;\n      &lt;Header /&gt;\n      &lt;Outlet /&gt;\n      &lt;Footer /&gt;\n    &lt;/&gt;\n  );\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div>',71),r={},l=(0,e(3744).Z)(r,[["render",function(n,s){return a}]])}}]);